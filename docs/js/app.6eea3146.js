(function(e){function t(t){for(var s,n,o=t[0],l=t[1],u=t[2],c=0,v=[];c<o.length;c++)n=o[c],i[n]&&v.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(v.length)v.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,o=1;o<r.length;o++){var l=r[o];0!==i[l]&&(s=!1)}s&&(a.splice(t--,1),e=n(n.s=r[0]))}return e}var s={},i={1:0},a=[];function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vuejs-model-validator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=l;a.push([0,0]),r()})({0:function(e,t,r){e.exports=r("Vtdi")},Vtdi:function(e,t,r){"use strict";r.r(t);var s={};r.r(s),r.d(s,"type",function(){return u}),r.d(s,"required",function(){return d}),r.d(s,"regexp",function(){return c}),r.d(s,"min",function(){return v}),r.d(s,"max",function(){return m}),r.d(s,"minlen",function(){return f}),r.d(s,"maxlen",function(){return p}),r.d(s,"length",function(){return g}),r.d(s,"equals",function(){return h}),r.d(s,"isin",function(){return b});r("VRzm");var i=r("Kw5r"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",attrs:{id:"app"}},[r("h1",[e._v("vuejs-model-validator")]),e._m(0),r("section",{staticClass:"login mb-5"},[r("h4",[e._v("Login")]),r("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.result.login,expression:"result.login !== undefined"}],staticClass:"alert",class:e.alertClass("login"),attrs:{role:"alert"}},[e._v("\n\t\t\t"+e._s(e.message.login)+"\n\t\t")]),r("form",{class:e.formClass("login"),attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"form-control",class:e.inputClass("login","email"),attrs:{type:"text"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.login.email.$error,expression:"$vmv.login.email.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.login.email.$error))])]),r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"form-control",class:e.inputClass("login","password"),attrs:{type:"password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.login.password.$error,expression:"$vmv.login.password.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.login.password.$error))])])]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Login")])])]),r("section",{staticClass:"register mb-5"},[r("h4",[e._v("Register")]),r("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.result.register,expression:"result.register !== undefined"}],staticClass:"alert",class:e.alertClass("register"),attrs:{role:"alert"}},[e._v("\n\t\t\t"+e._s(e.message.register)+"\n\t\t")]),r("form",{class:e.formClass("register"),attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.doRegister(t)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Alias")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.alias,expression:"register.alias"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.register.alias},on:{input:function(t){t.target.composing||e.$set(e.register,"alias",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.register.alias.$error,expression:"$vmv.register.alias.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.register.alias.$error))])]),r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.register.email},on:{input:function(t){t.target.composing||e.$set(e.register,"email",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.register.email.$error,expression:"$vmv.register.email.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.register.email.$error))])])]),r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.register.password},on:{input:function(t){t.target.composing||e.$set(e.register,"password",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.register.password.$error,expression:"$vmv.register.password.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.register.password.$error))])]),r("div",{staticClass:"col-md-6 mb-3"},[r("label",[e._v("Repeat")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.passwordRepeat,expression:"register.passwordRepeat"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.register.passwordRepeat},on:{input:function(t){t.target.composing||e.$set(e.register,"passwordRepeat",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.$vmv.register.passwordRepeat.$error,expression:"$vmv.register.passwordRepeat.$error"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$vmv.register.passwordRepeat.$error))])])]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Register")])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"lead"},[e._v("This is a data validator inspired by "),r("a",{attrs:{href:"https://github.com/yiminghe/async-validator",target:"_blank"}},[e._v("async-validator")]),e._v(" and adapted to VueJS fixing the lack of other data validators and with many features")])}],o=(r("Oyvg"),r("yt8O"),r("RW0V"),r("rGqo"),r("91GP"),r("KKXr"),r("a94B")),l=(r("a1Th"),r("pIFo"),{boolean:function(e){return"boolean"===typeof e},number:function(e){return"number"===typeof e},integer:function(e){return"number"===typeof e&&parseInt(e,10)===e},float:function(e){return"number"===typeof e&&parseInt(e,10)!==e},string:function(e){return"string"===typeof e},url:function(e){return new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i").test(e)},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear}});function u(e,t,r,s){var i=s.messages.type.replace("{rule}",e.type);return void 0===l[e.type]?(console.warn("Not a valid type: "+e.type),i):void 0!==t&&null!==t&&!1===l[e.type](t)?i:void 0}function d(e,t,r,s){var i=s.messages.required.replace("{rule}",e.required);if("boolean"!==typeof e.required)return console.warn("Not a valid required rule: "+e.required),i;if(!1!==e.required){if(null===t)return i;var a=Object(o["a"])(t);return"undefined"===a||"null"===a?i:!1===/(string|array|number)/.test(a)?i:0===t.toString().length?i:void 0}}function c(e,t,r,s){var i=s.messages.regexp.replace("{rule}",e.regexp);return e.regexp instanceof RegExp===!1?(console.warn("Not a valid regular expression rule: "+e.regexp),i):void 0!==t&&null!==t&&!1===new RegExp(e.regexp).test(t)?i:void 0}function v(e,t,r,s){var i=s.messages.min.replace("{rule}",e.min);return"number"!==typeof e.min?(console.warn("Not a valid min rule:"+e.min),i):void 0!==t&&null!==t?"number"!==typeof t?i:t<e.min?i:void 0:void 0}function m(e,t,r,s){var i=s.messages.max.replace("{rule}",e.max);return"number"!==typeof e.max?(console.warn("Not a valid max rule: "+e.max),i):void 0!==t&&null!==t?"number"!==typeof t?i:t>e.max&&i:void 0}function f(e,t,r,s){var i=s.messages.minlen.replace("{rule}",e.minlen);return"number"!==typeof e.minlen?(console.warn("Not a valid minlen rule:"+e.minlen),i):void 0!==t&&null!==t?!1===/(string|array)/.test(Object(o["a"])(t))?i:t.length>0&&t.length<e.minlen?i:void 0:void 0}function p(e,t,r,s){var i=s.messages.maxlen.replace("{rule}",e.maxlen);return"number"!==typeof e.maxlen?(console.warn("Not a valid maxlen rule: "+e.maxlen),i):void 0!==t&&null!==t?!1===/(string|array)/.test(Object(o["a"])(t))?i:t.length>e.maxlen?i:void 0:void 0}function g(e,t,r,s){var i=s.messages.length.replace("{rule}",e.length);if("number"!==typeof e.length)return console.warn("Not a valid length rule: "+e.length),i;if(void 0!==t&&null!==t){var a=Object(o["a"])(t);return!1===/(string|array|number)/.test(a)?i:"array"===a&&t.length!==e.length?i:t.toString().length!==e.length?i:void 0}}function h(e,t,r,s){var i=s.messages.equals.replace("{rule}",e.equals.split(".").slice(-1)[0]);if("string"!==typeof e.equals)return console.warn("Not a valid equals rule:"+e.equals),i;if(void 0!==t&&null!==t){var a=s.pathToObject(e.equals,r);return"undefined"===typeof a&&"undefined"!==typeof t?i:a.toString()!==t.toString()?i:void 0}}function b(e,t,r,s){var i=s.messages.isin.replace("{rule}",e.isin);return Array.isArray(e.isin)?void 0!==t&&null!==t&&-1===e.isin.indexOf(t)?i:void 0:(console.warn("Not a valid enumerator rule:"+e.isin),i)}var y={vm:void 0,data:{},validations:{},tasks:{},results:{},watchers:{},messages:{type:"This is not a valid {rule}",required:"This field is required",regexp:"This is no a valid value",min:"Minimun value is {rule}",max:"Maximun value is {rule}",minlen:"Minimun length is {rule}",maxlen:"Maximun length is {rule}",length:"Length must be {rule}",equals:"Must equal the field {rule}",enum:"Must be one of {rule}"},isObject:function(e){return null!==e&&!Array.isArray(e)&&"object"===Object(o["a"])(e)},isPromise:function(e){return("object"===Object(o["a"])(e)||"function"===typeof e)&&"function"===typeof e.then},pathToObject:function(e,t){"string"===typeof e&&(e=e.split("."));try{for(var r=0;r<e.length;r++)/^[0-9]+$/.test(e[r])&&void 0===t[e[r]]||(t=t[e[r]])}catch(t){console.warn("Not a valid path for "+e)}return t},init:function(e,t,r){this.vm=e,this.data=t,this.validations=r,this.removeWatchers(),this.addObjectWatchers([],this.data,this.validations,this.results)},setMessages:function(e){this.messages=Object.assign(this.messages,e)},addWatchers:function(e,t,r,s,i){var a=this;i[e]={},this.isObject(r[e])?this.addObjectWatchers(t,r[e],s[e]||s,i[e]):Array.isArray(r[e])?this.addArrayWatchers(t,r[e],s[e],i[e]):this.resetResult(i[e]),this.watchers[t.join(".")]=this.vm.$watch(function(){return r[e]},function(){(a.isObject(r[e])||Array.isArray(r[e]))&&(a.removeWatchers(t),a.addWatchers(e,t,r,s,i)),a.validate(t.join("."),void 0,void 0,!0,!1)})},addObjectWatchers:function(e,t,r,s){var i=this;Object.keys(r).forEach(function(a){i.addWatchers(a,e.concat(a),t,r,s)})},addArrayWatchers:function(e,t,r,s){var i=this;t.forEach(function(a,n){i.addWatchers(n,e.concat(n),t,r,s)})},removeWatchers:function(e){var t=this,r=Object.keys(this.watchers),s=new RegExp("^"+e+"\\.","i");void 0!==e&&(r=r.filter(function(t){return e===t||s.test(t)})),r.forEach(function(e){t.watchers[e](),delete t.watchers[e]})},validate:function(e,t,r,s){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.isObject(this.tasks[e])||(this.tasks[e]={}),Object.assign(this.tasks[e],{$success:"function"===typeof t?t:void 0,$error:"function"===typeof r?r:void 0}),this.addTasks(Date.now(),{origin:e,current:e},s,i,!0)},addTasks:function(e,t,r,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.pathToObject(t.current,this.data);if(Array.isArray(a))(s||t.current!==t.origin)&&this.addArrayTasks(a,e,t,r,s);else if(this.isObject(a))(s||t.current!==t.origin)&&this.addObjectTasks(e,t,r,s);else{var n=this.pathToObject(t.current,this.results);(r||!1===n.$validated)&&(void 0===this.tasks[t.origin][t.current]&&(this.tasks[t.origin][t.current]={}),Object.assign(this.tasks[t.origin][t.current],{time:e,value:a,rules:this.pathToObject(t.current,this.validations),result:this.resetResult(n),finishedRules:0}))}if(i){if(2===Object.keys(this.tasks[t.origin]).length)return void this.checkValidationsFinished(t.origin);this.runTasks(e,t.origin)}},addObjectTasks:function(e,t,r,s){var i=this,a=this.pathToObject(t.current,this.validations);Object.keys(a).forEach(function(a){i.addTasks(e,{origin:t.origin,current:t.current+"."+a},r,s)})},addArrayTasks:function(e,t,r,s,i){var a=this;e.forEach(function(e,n){a.addTasks(t,{origin:r.origin,current:r.current+"."+n},s,i)})},runTasks:function(e,t){var r=this;Object.keys(this.tasks[t]).forEach(function(s){"$success"!==s&&"$error"!==s&&r.validateRules({time:e,paths:{origin:t,current:s},task:r.tasks[t][s]})})},validateRules:function(e){var t=this,r=e.task;e.time<r.time||Object.keys(r.rules).every(function(i){if(r.result.$error)return!1;if("function"===typeof r.rules[i]){var a=r.rules[i](t.vm,r.value,function(r){t.addResult(e,r)});return t.isPromise(a)?(a.then(function(){t.addResult(e,void 0)}).catch(function(r){t.addResult(e,r.statusText)}),!0):(t.addResult(e,a),!0)}var n=s[i](r.rules,r.value,t.data,t);return t.addResult(e,n),!n})},addResult:function(e,t){var r=e.task;e.time<r.time||(r.finishedRules++,t&&!r.result.$error&&(r.result.$error=t),(t||r.finishedRules===Object.keys(r.rules).length)&&(r.result.$validated=!0,delete this.tasks[e.paths.origin][e.paths.current],this.checkValidationsFinished(e.paths.origin)))},resetResult:function(e){return void 0===e&&(e={}),e.$validated=!1,e.$error=void 0,e},checkValidationsFinished:function(e){if(!(Object.keys(this.tasks[e]).length>2)){var t=this.pathToObject(e,this.results),r=this.validationHasError(t),s=r?this.tasks[e].$error:this.tasks[e].$success;"function"===typeof s&&s(this.vm),delete this.tasks[e.origin],this.vm.$forceUpdate()}},validationHasError:function(e){var t=this;return void 0===e.$validated?Object.keys(e).some(function(r){return t.validationHasError(e[r])}):void 0!==e.$error}},w=!0,$={beforeMount:function(){var e=this;this.$options.validations?(w=!1,y.init(this,this._data,this.$options.validations),this.$vmv=y.results,this.$vmv.$validate=y.validate.bind(y),this.$vmv.$setMessages=y.setMessages.bind(y),this.$vmv.$reset=function(t){t=y.pathToObject(t,y.results),setTimeout(function(){y.resetResult(t),e.$forceUpdate()})},this.$options.validationMessages&&this.vmv.setMessages(this.$options.validationMessages)):console.warn("No validations defined")},destroyed:function(){w?y.removeWatchers():w=!0}},x={name:"app",mixins:[$],data:function(){return{result:{login:void 0,register:void 0},message:{login:void 0,register:void 0},login:{email:null,password:null},register:{alias:null,email:null,password:null,passwordRepeat:null}}},validations:{login:{email:{required:!0,type:"email"},password:{required:!0,minlen:5}},register:{alias:{required:!0,minlen:5,checkAlias:function(e,t,r){r("admin"===t?"Alias already in use":void 0)}},email:{required:!0,type:"email",checkEmail:function(e,t,r){r("admin@vmv.com"===t?"Email already registered":void 0)}},password:{required:!0,minlen:5},passwordRepeat:{required:!0,equals:"register.password"}}},methods:{formClass:function(e){return void 0!==this.result[e]?"was-validated":""},alertClass:function(e){return this.result[e]?"alert-success":"alert-danger"},inputClass:function(e,t){return this.$vmv[e]?!1===this.$vmv[e][t].$validated?"":void 0!==this.$vmv[e][t].$error?"is-invalid":"is-valid":""},doLogin:function(){var e=this;this.$vmv.$validate("login",function(){e.result.login=!0,e.message.login="Logged in!"},function(){e.result.login=!1,e.message.login="Error logging in"})},doRegister:function(){var e=this;this.$vmv.$validate("register",function(){e.result.register=!0,e.message.register="Registered successfully!"},function(){e.result.register=!1,e.message.register="Error registering"})}}},k=x,j=(r("bXoG"),r("KHd+")),O=Object(j["a"])(k,a,n,!1,null,"a027ccfc",null),_=O.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(_)}}).$mount("#app")},bXoG:function(e,t,r){"use strict";var s=r("pGnY"),i=r.n(s);i.a},pGnY:function(e,t,r){var s=r("y/ha");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=r("SZ7m").default;i("396245b4",s,!0,{sourceMap:!1,shadowMode:!1})},"y/ha":function(e,t,r){t=e.exports=r("I1BE")(!1),t.push([e.i,".invalid-feedback[data-v-a027ccfc]{display:block}",""])}});
//# sourceMappingURL=app.6eea3146.js.map